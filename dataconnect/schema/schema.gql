type User @table {
  email: String!
  displayName: String
  phone: String
  role: String! # Enum: end_user, staff, admin
  createdAt: Timestamp
}

type Case @table {
  title: String!
  type: String! # Enum: chargeback, landlord_tenant, small_claim, other
  status: String! # Enum: draft, open, submitted, in_review, resolved, closed
  province: String
  description: String
  referenceNo: String
  createdAt: Timestamp
  updatedAt: Timestamp
  owner: User
}

type Evidence @table {
  kind: String! # Enum: image, pdf, audio, video, text, other
  fileUri: String!
  mimeType: String!
  sizeBytes: Int!
  textContent: String
  hash: String
  createdAt: Timestamp
  case: Case
  uploadedBy: User
}

type FormDefinition @table {
  slug: String!
  title: String!
  version: Int!
  schemaJson: String! # Representing JSON as String
  active: Boolean!
  createdAt: Timestamp
}

type FormSubmission @table {
  answersJson: String! # Representing JSON as String
  status: String! # Enum: in_progress, submitted, locked
  createdAt: Timestamp
  submittedAt: Timestamp
  case: Case
  form: FormDefinition
  submittedBy: User
}
